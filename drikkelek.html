<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feiring av Eilin Valencia</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(to bottom, #3a506b, #5c677d);
            color: white;
            text-align: center;
            padding: 20px;
        }
        h1 {
            color: silver;
            font-size: 2.5em;
        }
        .content-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .main-image {
            width: 90%;
            max-width: 600px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(255, 255, 255, 0.5);
            margin-bottom: 20px;
        }
        .schedule-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        .schedule {
            background: rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 10px;
            width: 300px;
        }
        .schedule-frame {
            padding: 20px;
            border: 5px solid pink;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.1);
        }
        .attendance-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 50px;
            margin-top: 20px;
        }
        .update-wheel-container {
            display: flex;
            justify-content: center;
            gap: 50px;
            margin-top: 30px;
        }
        .update-container, .wheel-container {
            padding: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            width: 300px;
            text-align: center;
        }
        .wheel-container canvas {
            margin-top: 10px;
            border-radius: 50%;
            background: white;
        }
    </style>
</head>
<body>
    <h1>Feiring av Eilin Valencia</h1>
    <img class="main-image" src="IMG_6184.HEIC" alt="Bilde av feiringen">
    <div class="content-container">
        <div class="schedule-container schedule-frame">
            <div class="schedule">
                <h2>Lørdag</h2>
                <p>16:00 - Velkomst til vors</p>
                <p>17:30 - Noe søtt på tungen</p>
                <p>19:00 - Ølbong championship (kanskje noen på 21 år blir icet)</p>
                <p>20:00 - Nystemten</p>
                <p>20:30 - Avreise fra vors</p>
                <p>21:20 - Konsertstart</p>
            </div>
            
            <div class="schedule">
                <h2>Søndag</h2>
                <p>10:00 ish - frokostVors, vi stiller med rundstykker og pålegg</p>
                <p>13:00 - Avreise til solsiden</p>
                <p>14:00 - Cava herifra til helvete</p>
            </div>
        </div>
        
        <div class="attendance-container">
            <div class="image-container">
                <img src="IMG_6316.HEIC" alt="Et annet bilde" style="width: 180px; border-radius: 10px;">
            </div>
            
            <div class="attendance">
                <h2>Meld deg på/av</h2>
                <input type="text" id="name" placeholder="Ditt navn">
                <button onclick="signUp()">Meld deg på</button>
                <button onclick="signOff()">Meld deg av</button>
                <h3>Disse kommer:</h3>
                <ul id="attendees"></ul>
            </div>
            
            <div class="image-container">
                <img src="IMG_6307.HEIC" alt="Et annet bilde" style="width: 180px; border-radius: 10px;">
            </div>
        </div>

        <div class="update-wheel-container">
            <div class="update-container">
                <h2>Her kommer det oppdateringer fortløpende</h2>
            </div>
            <div class="wheel-container">
                <h2>Hvem skal ices?</h2>
                <canvas id="wheelCanvas" width="300" height="300"></canvas>
                <button onclick="spinWheel()">Spinn lykkehjulet</button>
            </div>
        </div>
    </div>

    <script>
        let attendees = [];
        let spinning = false;
        let rotation = 0;
        let spinSpeed = 0;

        function updateAttendees() {
            attendees = Array.from(document.querySelectorAll("#attendees li"))
                            .map(li => li.textContent);
        }

        const canvas = document.getElementById("wheel");
        const ctx = canvas.getContext("2d");
        const size = 300;
        canvas.width = size;
        canvas.height = size;

        function drawWheel() {
            updateAttendees();
            if (attendees.length === 0) return;
            const segmentAngle = (2 * Math.PI) / attendees.length;
            ctx.clearRect(0, 0, size, size);
            
            for (let i = 0; i < attendees.length; i++) {
                const angle = rotation + i * segmentAngle;
                ctx.beginPath();
                ctx.moveTo(size / 2, size / 2);
                ctx.arc(size / 2, size / 2, size / 2, angle, angle + segmentAngle);
                ctx.fillStyle = `hsl(${(i * 360) / attendees.length}, 100%, 70%)`;
                ctx.fill();
                ctx.stroke();
                
                ctx.save();
                ctx.translate(size / 2, size / 2);
                ctx.rotate(angle + segmentAngle / 2);
                ctx.textAlign = "right";
                ctx.fillStyle = "black";
                ctx.font = "14px Arial";
                ctx.fillText(attendees[i], size / 3, 0);
                ctx.restore();
            }
        }

        function spinWheel() {
            if (spinning || attendees.length === 0) return;
            spinning = true;
            spinSpeed = Math.random() * 10 + 10;
            animateSpin();
        }

        function animateSpin() {
            if (spinSpeed > 0.1) {
                rotation += (spinSpeed * Math.PI) / 180;
                spinSpeed *= 0.98;
                drawWheel();
                requestAnimationFrame(animateSpin);
            } else {
                spinning = false;
                selectWinner();
            }
        }

        function selectWinner() {
            let segmentAngle = (2 * Math.PI) / attendees.length;
            let selectedIndex = Math.floor(((rotation % (2 * Math.PI)) / segmentAngle) + attendees.length) % attendees.length;
            alert(attendees[selectedIndex] + " skal ices!");
        }

        setInterval(drawWheel, 2000); // Oppdaterer hjulet automatisk når folk melder seg på

    </script>
</body>
</html>
